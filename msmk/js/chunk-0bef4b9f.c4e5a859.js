(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bef4b9f"],{"4bfd":function(t,e,a){t.exports=a.p+"img/has_buy.49128523.png"},"4cab":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"couser"},[n("header",[n("van-nav-bar",{attrs:{title:"特色课"},scopedSlots:t._u([{key:"right",fn:function(){return[n("van-icon",{attrs:{name:"search",size:"24",color:"black"},on:{click:function(e){return t.toSearch()}}})]},proxy:!0}])}),n("van-dropdown-menu",[n("van-dropdown-item",{ref:"classify",attrs:{title:"分类"}},[n("div",{staticClass:"box"},[t._l(t.attrclassify,(function(e,a){return n("div",{key:a,staticClass:"top"},[n("p",[t._v(t._s(e.name))]),n("div",{staticClass:"s"},t._l(e.child,(function(i,r){return n("span",{key:r,class:{active:t.grade==e.id+"."+i.id||t.subject==e.id+"."+i.id},on:{click:function(n){return t.classify(a,e.id,i.id)}}},[t._v(t._s(i.name))])})),0)])})),n("div",{staticClass:"bt"},[n("button",{staticStyle:{border:"1px solid #f1f1f1"},on:{click:function(e){return t.classifyReset()}}},[t._v("重置")]),n("button",{staticStyle:{background:"orange",color:"white"},on:{click:t.submitClassify}},[t._v("确定")])])],2)]),n("van-dropdown-item",{ref:"sort",attrs:{title:"排序"}},[n("ul",t._l(t.sortArr,(function(e,a){return n("li",{key:a,class:{sortActive:a==t.sortActive},on:{click:function(e){return t.sort(a)}}},[t._v(t._s(e))])})),0)]),n("van-dropdown-item",{ref:"screen",attrs:{id:"screen",title:"筛选"}},[n("div",{staticClass:"shai"},t._l(t.appCourseType,(function(e,a){return n("span",{key:a,class:{active:a==t.appCourseTypeActive},on:{click:function(n){return t.selectAppCourseType(a,e.id)}}},[t._v(t._s(e.name))])})),0)])],1)],1),n("section",[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",offset:t.offsetTop,"immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.arr,(function(e,i){return n("van-cell",{key:i},[n("div",{on:{click:function(a){return t.$router.push("/couserDetail?couserDetailId="+e.id)}}},[n("p",[t._v(t._s(e.title))]),n("div",{staticClass:"time"},[n("van-icon",{staticStyle:{"margin-right":"0.1rem"},attrs:{name:"clock-o"}}),n("span",[t._v(t._s(t._f("time")(e.start_play_date))+" ~ "+t._s(t._f("time")(e.end_play_date)))]),n("span",{staticStyle:{"margin-left":"0.1rem","margin-right":"0.1rem"}},[t._v("|")]),n("span",[t._v("共"+t._s(e.total_periods)+"课时")])],1),t._l(e.teachers_list,(function(i,r){return n("div",{key:r,staticClass:"tou"},[n("p",[n("img",{attrs:{src:i.teacher_avatar,alt:""}}),n("span",[t._v(t._s(i.teacher_name))])]),n("img",{directives:[{name:"show",rawName:"v-show",value:1==e.has_buy,expression:"item.has_buy==1"}],attrs:{src:a("4bfd"),alt:""}})])})),n("p",{staticClass:"section_p"},[n("span",[t._v(t._s(e.sales_num)+"人已报名")]),n("span",{staticStyle:{color:"green","font-size":"0.18rem"}},[t._v("免费")])])],2)])})),1)],1)])},i=[],r=a("7c15"),s={name:"",props:[],components:{},data(){return{arr:[],sortActive:0,grade:1.1,subject:2.1,sortArr:["综合排序","最新","最热","价格从低到高","价格从高到低"],attrclassify:[],appCourseTypeActive:0,switch1:!1,switch2:!1,loading:!1,finished:!1,appCourseType:[],classifyObj:{page:1,limit:4,course_type:"",classify_id:"",order_by:"",attr_val_id:"",is_vip:0},total:"",lastpage:"",offsetTop:0}},computed:{},watch:{},methods:{toSearch(){this.$router.push("/search")},sort(t){this.sortActive=t,this.classifyObj.order_by=t,this.ajax(),this.$refs.sort.toggle()},selectAppCourseType(t,e){this.appCourseTypeActive=t,this.$refs.screen.toggle(),this.classifyObj.course_type=e,this.classifyObj.page=1,this.classifyObj.limit=4,this.ajax()},submitClassify(){this.classifyObj.page=1,this.classifyObj.limit=4,this.ajax(),this.$refs.classify.toggle()},classifyReset(){this.classifyObj={page:1,limit:4,course_type:"",classify_id:"",order_by:"",attr_val_id:"",is_vip:0},this.ajax(),this.$refs.classify.toggle()},classify(t,e,a){1==e?this.grade=e+"."+a:this.subject=e+"."+a,this.classifyObj.attr_val_id=e+","+a,console.log(this.grade)},async getClassify(){let t=await Object(r["h"])(),e=await Object(r["j"])();console.log(t),this.appCourseType=e.data.data.appCourseType,this.attrclassify=t.data.attrclassify,console.log(this.attrclassify)},onLoad(){setTimeout(()=>{this.classifyObj.limit<this.total?(this.classifyObj.limit+=5,this.ajax()):this.finished=!0,this.loading=!1,this.arr.length>=this.total&&(this.finished=!0)},1e3)},async ajax(){let t=await Object(r["c"])(this.classifyObj);console.log(t),this.lastpage=t.data.last_page,this.total=t.data.total,this.arr=t.data.list,console.log(this.arr)}},filters:{time:function(t){var e=new Date(t),a=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0");return a+"月"+n+"日 "+i+":"+r}},created(){},mounted(){this.ajax(),this.getClassify()},updated(){},activated(){},deactivated(){}},o=s,c=(a("e77f"),a("c701")),u=Object(c["a"])(o,n,i,!1,null,"37e93d03",null);e["default"]=u.exports},"7c15":function(t,e,a){"use strict";a.d(e,"r",(function(){return s})),a.d(e,"w",(function(){return o})),a.d(e,"c",(function(){return c})),a.d(e,"n",(function(){return u})),a.d(e,"D",(function(){return p})),a.d(e,"C",(function(){return l})),a.d(e,"g",(function(){return f})),a.d(e,"d",(function(){return d})),a.d(e,"m",(function(){return h})),a.d(e,"a",(function(){return y})),a.d(e,"u",(function(){return g})),a.d(e,"x",(function(){return _})),a.d(e,"h",(function(){return m})),a.d(e,"j",(function(){return v})),a.d(e,"k",(function(){return b})),a.d(e,"G",(function(){return j})),a.d(e,"z",(function(){return C})),a.d(e,"B",(function(){return k})),a.d(e,"t",(function(){return w})),a.d(e,"A",(function(){return O})),a.d(e,"e",(function(){return S})),a.d(e,"f",(function(){return x})),a.d(e,"b",(function(){return A})),a.d(e,"v",(function(){return T})),a.d(e,"l",(function(){return $})),a.d(e,"s",(function(){return D})),a.d(e,"y",(function(){return I})),a.d(e,"F",(function(){return z})),a.d(e,"E",(function(){return B})),a.d(e,"p",(function(){return E}));var n=a("b775"),i=a("8587"),r=a.n(i);function s(t,e){return n["a"].get(t,{params:e})}function o(t,e){return n["a"].post(t,e)}function c(t){return n["a"].get("/api/app/courseBasis",{params:t})}function u(t,e){return n["a"].get("/api/app"+t,e)}function p(t,e){return n["a"].post("/api/app"+t,e)}function l(t,e){return n["a"].post("/api/app"+t,e)}function f(t){return n["a"].put(`/api/app/collect/cancel/${t}/1`)}function d(t){return n["a"].post("/api/app/order/shopInfo",{shop_id:t,type:5})}function h(t){return n["a"].post("/api/app/order/downOrder",t)}function y(t){return n["a"].get(`/api/app/myStudy/course/${t}?`)}function g(t){return n["a"].post("/api/app/myStudy/comment",t)}function _(){return Object(n["a"])("/api/app/myStudy/2?")}function m(){return n["a"].get("/api/app/courseClassify")}function v(){return r.a.get("http://120.53.31.103:84/api/app/courseClassify")}function b(t){return n["a"].get("/api/app/collect",{params:t})}function j(){return n["a"].get("/api/app/userInfo")}function C(t){return n["a"].get("/api/app/teacher/"+t)}function k(t){return n["a"].get("/api/app/teacher/info/"+t)}function w(t){return n["a"].post("api/app/teacher/mainCourse",t)}function O(t){return n["a"].post("api/app/teacher/comment",t)}function S(t){return n["a"].get("/api/app/teacher/collect/"+t)}function x(t){return n["a"].put("/api/app/collect/cancel/"+t+"/2")}function A(){return n["a"].get("/api/app/getUCenterInfo")}function T(t){return n["a"].get("/api/app/otoCourse",{params:t})}function $(){return n["a"].get("api/app/otoCourseOptions")}function D(t){return n["a"].post("api/app/teacher/invite",t)}function I(t){return n["a"].post("/api/app/teacher/invite",t)}function z(t){return n["a"].post("/api/app/public/img",t)}function B(t){return n["a"].put("/api/app/user",t)}function E(){return Object(n["a"])("/api/app/module/attribute/1?")}},a78c:function(t,e,a){},e77f:function(t,e,a){"use strict";a("a78c")}}]);
//# sourceMappingURL=chunk-0bef4b9f.c4e5a859.js.map