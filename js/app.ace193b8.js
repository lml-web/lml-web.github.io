(function(e){function t(t){for(var o,r,i=t[0],l=t[1],c=t[2],d=0,h=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(h.length)h.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],o=!0,i=1;i<s.length;i++){var l=s[i];0!==a[l]&&(o=!1)}o&&(n.splice(t--,1),e=r(r.s=s[0]))}return e}var o={},a={app:0},n=[];function r(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=o,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(s,o,function(t){return e[t]}.bind(null,o));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},2495:function(e,t,s){"use strict";var o=s("b5ab"),a=s.n(o);a.a},3661:function(e,t,s){"use strict";var o=s("8096"),a=s.n(o);a.a},"56d7":function(e,t,s){"use strict";s.r(t);var o=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("keep-alive",[s("router-view")],1)],1)},n=[],r={name:"app"},i=r,l=(s("5c0b"),s("2877")),c=Object(l["a"])(i,a,n,!1,null,null,null),u=c.exports,d=s("8c4f"),h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("header",{attrs:{id:"top"}},[s("p",[e._v("eleme")]),s("p",{directives:[{name:"show",rawName:"v-show",value:!e.login,expression:"!login"}],on:{click:function(t){return e.login()}}},[e._v("登陆|注册")]),s("van-icon",{directives:[{name:"show",rawName:"v-show",value:e.logins,expression:"logins"}],attrs:{color:"white",size:"40px",name:"user-circle-o"}})],1),s("div",{staticClass:"guess"},[s("p",[e._v("当前定位城市")]),s("p",[e._v(e._s(e.guess.name))])]),s("div",{staticClass:"hot"},[s("p",[e._v("热门城市")]),s("ul",e._l(e.hot,(function(t,o){return s("li",{key:o,on:{click:function(s){return e.tosearch(t)}}},[e._v(" "+e._s(t.name)+" ")])})),0)]),s("div",{staticClass:"zimu"},[s("ul",e._l(e.zimu,(function(t,o){return s("li",{key:o},[s("a",{attrs:{href:"#"+t}},[e._v(e._s(t))])])})),0)]),s("div",{ref:"list",staticClass:"list",on:{scroll:function(t){return e.toscroll()}}},[e._l(e.obj,(function(t,o){return s("div",{key:o,staticClass:"item"},[s("p",{attrs:{id:o}},[e._v(e._s(o))]),s("ul",e._l(t,(function(t,o){return s("li",{key:o,on:{click:function(s){return e.search(t)}}},[e._v(" "+e._s(t.name)+" ")])})),0)])})),s("a",{directives:[{name:"show",rawName:"v-show",value:e.isshow,expression:"isshow"}],staticClass:"totop",attrs:{href:"#A"}},[e._v("回到顶部")])],2)])},p=[],m=s("f753"),v=s.n(m);let f=v.a.create({baseURL:"http://elm.cangdu.org"});f.interceptors.request.use(e=>e),f.interceptors.response.use(e=>e.data);var _=f;function g(e,t){return _.get(e,{params:t})}function w(e){return g("/v1/cities?type=group")}function y(e){return g("/v1/cities?type="+e)}var b={name:"home",data(){return{logins:JSON.parse(localStorage.getItem("state"))||!1,header:[],hot:[],zimu:[],arr:[],obj:{},scrollTop:"",isshow:!1,guess:""}},watch:{},methods:{login(){this.$router.push("/login")},scroll(){let e=this.$refs.list.scrollTop;console.log(this.$refs.list.scrollTop),this.isshow=e>100},tosearch(e){console.log(e),this.$router.push({path:"/search",query:{id:e.id,name:e.name}})},async getmore(){let e=await w();this.zimu=Object.keys(e),this.zimu.sort(),console.log(e);for(let t in this.zimu)this.obj[this.zimu[t]]=e[this.zimu[t]];console.log(e)},async getguess(e){let t=await y(e);return console.log(t),t}},mounted(){this.getmore(),this.getguess("guess").then(e=>{console.log(e),this.guess=e}),this.getguess("hot").then(e=>{console.log(e),this.hot=e})},computed:{},components:{}},k=b,x=(s("c531"),Object(l["a"])(k,h,p,!1,null,"2ae42d4c",null)),$=x.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("header",[s("p",{on:{click:e.home}},[e._v(e._s(e.zuo))]),s("p",[e._v("密码登录")])]),s("div",{staticClass:"from"},[s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],attrs:{placeholder:"账号",type:"text"},domProps:{value:e.user},on:{blur:function(t){return e.bl()},input:function(t){t.target.composing||(e.user=t.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.tishi,expression:"tishi"}],staticClass:"tishi"},[e._v("账号格式不正确")])]),s("p",["checkbox"===e.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.psd,expression:"psd"}],attrs:{placeholder:"密码",type:"checkbox"},domProps:{checked:Array.isArray(e.psd)?e._i(e.psd,null)>-1:e.psd},on:{change:function(t){var s=e.psd,o=t.target,a=!!o.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);o.checked?r<0&&(e.psd=s.concat([n])):r>-1&&(e.psd=s.slice(0,r).concat(s.slice(r+1)))}else e.psd=a}}}):"radio"===e.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.psd,expression:"psd"}],attrs:{placeholder:"密码",type:"radio"},domProps:{checked:e._q(e.psd,null)},on:{change:function(t){e.psd=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.psd,expression:"psd"}],attrs:{placeholder:"密码",type:e.type},domProps:{value:e.psd},on:{input:function(t){t.target.composing||(e.psd=t.target.value)}}})]),s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.yzm,expression:"yzm"}],attrs:{placeholder:"验证码",type:"text"},domProps:{value:e.yzm},on:{input:function(t){t.target.composing||(e.yzm=t.target.value)}}}),s("img",{attrs:{src:e.img,alt:""}}),s("span",{on:{click:e.changeimg}},[e._v("换一张")])])]),e._m(0),s("div",{staticClass:"btn"},[s("button",{attrs:{disabled:e.isdisabled},on:{click:e.login}},[e._v("登录")])]),s("div",{staticClass:"switch"},[s("Sw",{on:{flag:e.flag}})],1)])},O=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"warning"},[s("p",[e._v("温馨提示：未注册的账号，登陆时将自动注册")]),s("p",[e._v("注册过的用户可凭账号密码的登陆")])])}],z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"switch"},[s("p",{staticClass:"b",style:{background:e.flag?"red":""}},[e._v("abc")]),s("p",{staticClass:"a",on:{click:e.to}})])},j=[],N=s("a336"),S=s.n(N),E={data(){return{flag:!1}},created(){},mounted(){},methods:{to(){this.flag=!this.flag,this.flag?S()(".a").animate({left:"36px"},200):S()(".a").animate({left:"-10px"},200),this.$emit("flag",this.flag)}}},L=E,P=(s("8d87"),Object(l["a"])(L,z,j,!1,null,"1c292cee",null)),q=P.exports;v.a.defaults.withCredentials=!0;var A={components:{Sw:q},data(){return{zuo:"<",tishi:!1,user:"",psd:"",yzm:"",img:"",arr:[],bool:!1,type:"password"}},watch:{},mounted(){this.changeimg()},computed:{isdisabled(){return""==this.user||""==this.psd||""==this.yzm}},methods:{home(){this.$router.push("/")},changeimg(){this.$http.post("/v1/captchas").then(e=>{console.log(e),this.img=e.code})},setCookie(e,t,s){var o=new Date;o.setDate(o.getDate()+s),document.cookie=e+"="+t+"; expires="+o.toDateString()},login(){this.setCookie("SID",100,2),this.setCookie("cap",this.yzm,2),console.log(this.$http.defaults.withCredentials),v.a.post("/api/v2/login",{username:this.user,password:this.psd,captcha_code:this.yzm}).then(({data:e})=>{console.log(e),e.id&&(localStorage.setItem("state",JSON.stringify(!0)),this.$router.push("/"))}),console.log({username:this.user,password:this.psd,captcha_code:this.yzm})},flag(e){console.log(e),this.type=e?"text":"password"},bl(){if(!/^1[3456789]\d{9}$/.test(this.user))return this.tishi=!0,!1;this.tishi=!1}}},H=A,I=(s("2495"),Object(l["a"])(H,C,O,!1,null,"23ab5d7e",null)),J=I.exports,T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"detail"},[s("header",[s("p",{on:{click:e.home}},[e._v(e._s(e.zuo))]),s("p",[e._v(e._s(e.$route.query.name))])]),s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.keysword,expression:"keysword"}],attrs:{type:"text",placeholder:"请输入地址"},domProps:{value:e.keysword},on:{input:function(t){t.target.composing||(e.keysword=t.target.value)}}}),s("p",{directives:[{name:"show",rawName:"v-show",value:e.delshow,expression:"delshow"}],on:{click:e.clear}},[e._v("x")]),s("button",{on:{click:function(t){return e.btn()}}},[e._v("提交")])]),s("div",{staticClass:"searchList"},[s("ul",{directives:[{name:"show",rawName:"v-show",value:!e.flag,expression:"!flag"}],staticClass:"searchHistory"},[s("p",{staticClass:"p"},[e._v("搜索历史")]),e._l(e.searchList,(function(t,o){return s("li",{key:o},[s("p",[e._v(e._s(t.name))]),s("p",[e._v(e._s(t.address))])])})),s("p",{directives:[{name:"show",rawName:"v-show",value:e.clearHistory,expression:"clearHistory"}],staticClass:"alldel",on:{click:e.clearAll}},[e._v("清空所有")])],2),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.flag,expression:"flag"}],staticClass:"list"},e._l(e.list,(function(t,o){return s("li",{key:o,on:{click:function(s){return e.tofood(t)}}},[s("p",[e._v(e._s(t.name))]),s("p",[e._v(e._s(t.address))])])})),0)])])},D=[],M={data(){return{zuo:"<",keysword:"",list:[],delshow:"",searchList:localStorage.getItem("searchList")?JSON.parse(localStorage.getItem("searchList")):[],flag:!1,clearHistory:!1}},watch:{keysword(e){""==e?(this.delshow=!1,this.flag=!1):this.delshow=!0},searchList:{handler(e){e.length>0?this.clearHistory=!0:this.clearHistory=!1,localStorage.setItem("searchList",JSON.stringify(e))},immediate:!0}},mounted(){},methods:{clearAll(){this.searchList=[]},home(){this.$router.push("/")},btn(){this.$http.get(`/v1/pois?type=search&city_id=${this.$route.query.id}&keyword=${this.keysword}`).then(e=>{console.log(e.message),this.list=e,this.flag=!0})},clear(){this.keysword=""},tofood(e){this.searchList.unshift(e),this.searchList.length>5&&this.searchList.pop(),this.keysword="",this.flag=!1,console.log(e),this.$router.push({path:"/food",query:{geohash:e.geohash,name:e.name}})}}},F=M,R=(s("c89f"),Object(l["a"])(F,T,D,!1,null,"41ebfa6b",null)),U=R.exports,W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("router-view"),s("van-tabbar",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[s("van-tabbar-item",{attrs:{icon:"home-o"},on:{click:function(t){return e.to("/food/food_shoop")}}},[e._v("外卖")]),s("van-tabbar-item",{attrs:{icon:"search"},on:{click:function(t){return e.to("/food/food_search")}}},[e._v("搜索")]),s("van-tabbar-item",{attrs:{icon:"friends-o"},on:{click:function(t){return e.to("/food/food_dingdan")}}},[e._v("订单")]),s("van-tabbar-item",{attrs:{icon:"friends-o"},on:{click:function(t){return e.to("/food/food_me")}}},[e._v("我的")])],1)],1)},B=[],G={data(){return{avtive:0}},created(){},mounted(){},methods:{to(e){this.$router.push(e)}}},K=G,Q=Object(l["a"])(K,W,B,!1,null,"22b23296",null),V=Q.exports,X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"food"},[s("header",[s("van-icon",{attrs:{name:"search"}}),s("p",[e._v(e._s(e.$route.query.name))]),s("van-icon",{attrs:{name:"manager-o"}})],1),s("div",{staticClass:"center"},[s("div",{staticClass:"content"},[s("div",{staticClass:"banner"},[s("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},[s("van-swipe-item",[s("ul",e._l(e.bannerList,(function(t,o){return s("li",{directives:[{name:"show",rawName:"v-show",value:o<8,expression:"k<8"}],key:o},[s("img",{attrs:{src:"http://fuss10.elemecdn.com"+t.image_url}}),s("p",[e._v(e._s(t.title))])])})),0)]),s("van-swipe-item",[s("ul",e._l(e.bannerList,(function(t,o){return s("li",{directives:[{name:"show",rawName:"v-show",value:o>8,expression:"k>8"}],key:o},[s("img",{attrs:{src:"http://fuss10.elemecdn.com"+t.image_url}}),s("p",[e._v(e._s(t.title))])])})),0)])],1)],1),s("ul",{staticClass:"list"},e._l(e.list,(function(t,o){return s("li",{key:o},[s("img",{attrs:{src:"http://elm.cangdu.org/img/"+t.image_path}}),s("div",[s("p",[e._v(e._s(t.name))]),s("p",[e._v("月售"+e._s(t.rating_count)+">")]),s("p",[s("span",[e._v("￥"),s("span",[e._v(e._s(t.float_minimum_order_amount))]),e._v("起送/配送费约￥"+e._s(t.float_delivery_fee))]),s("span",[s("span",[e._v(e._s(t.distance))]),e._v(" / "),s("span",{staticClass:"time"},[e._v(e._s(t.order_lead_time))])])])])])})),0)])])])},Y=[],Z={data(){return{bannerList:[],list:[],active:0}},created(){},mounted(){this.$http(`/v2/index_entry?geohash=${this.$route.query.geohash}&group_type=1&flags[]=F`).then(e=>{this.bannerList=e,console.log(e[0].image_url),console.log(e)}),this.$http("/shopping/restaurants?latitude=31.125419&longitude=121.571386&aurant_category_ids[]=&order_by=&delivery_mode[]=").then(e=>{console.log(e),this.list=e})},methods:{}},ee=Z,te=(s("3661"),Object(l["a"])(ee,X,Y,!1,null,"eefe3ac0",null)),se=te.exports,oe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ae=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v("搜素")])])}],ne={data(){return{}},created(){},mounted(){},methods:{}},re=ne,ie=Object(l["a"])(re,oe,ae,!1,null,"1c2d1112",null),le=ie.exports,ce=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ue=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v(" 订单 ")])])}],de={data(){return{}},created(){},mounted(){},methods:{}},he=de,pe=Object(l["a"])(he,ce,ue,!1,null,"97963aea",null),me=pe.exports,ve=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},fe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v("我的")])])}],_e={data(){return{}},created(){},mounted(){},methods:{}},ge=_e,we=Object(l["a"])(ge,ve,fe,!1,null,"05105531",null),ye=we.exports;o["default"].use(d["a"]);const be=[{path:"/",name:"Home",component:$},{path:"/login",name:"login",component:J},{path:"/search",name:"search",component:U},{path:"/food",name:"food",component:V,redirect:"/food/food_shoop",children:[{path:"food_search",name:"food_search",component:le},{path:"food_shoop",name:"food_shoop",component:se},{path:"food_dingdan",name:"food_dingdan",component:me},{path:"food_me",name:"food_me",component:ye}]}],ke=new d["a"]({routes:be});var xe=ke,$e=s("2f62");o["default"].use($e["a"]);var Ce=new $e["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Oe=s("b970");s("157a");o["default"].use(Oe["a"]);var ze=s("5c96"),je=s.n(ze);s("0fae");o["default"].use(je.a);s("d619");_.defaults.withCredentials=!0,o["default"].prototype.$http=_,o["default"].config.productionTip=!1,new o["default"]({router:xe,store:Ce,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,s){"use strict";var o=s("f80b"),a=s.n(o);a.a},8096:function(e,t,s){},"8d87":function(e,t,s){"use strict";var o=s("ebb6"),a=s.n(o);a.a},af52:function(e,t,s){},b5ab:function(e,t,s){},b8fe:function(e,t,s){},c531:function(e,t,s){"use strict";var o=s("b8fe"),a=s.n(o);a.a},c89f:function(e,t,s){"use strict";var o=s("af52"),a=s.n(o);a.a},d619:function(e,t){window.onload=function(){function e(){document.documentElement.style.fontSize=document.documentElement.clientWidth/7.5+"px"}e(),window.onresize=e}},ebb6:function(e,t,s){},f80b:function(e,t,s){}});
//# sourceMappingURL=app.ace193b8.js.map