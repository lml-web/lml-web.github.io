(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e142376"],{2757:function(t,o,e){t.exports=e.p+"img/login_pic.cb101470.png"},"6ba9":function(t,o,e){"use strict";e("7e5a")},7047:function(t,o,e){"use strict";function s(t){var o=/^((13[0-9])|(17[0-1,6-8])|(15[^4,\\D])|(18[0-9]))\d{8}$/;return""==t?"账号不能为空":!!o.test(t)||"账号格式不正确"}function i(t){return console.log(String(t)),""==t?"密码不能为空":!(String(t).length<6&&String(t)>16)||"密码长度必须为6到16位"}e.d(o,"b",(function(){return s})),e.d(o,"a",(function(){return i}))},"7e5a":function(t,o,e){},ede4:function(t,o,e){"use strict";e.r(o);var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[t._m(0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loginShow,expression:"loginShow"}],staticClass:"login_input_container"},[e("div",{staticClass:"login_input_wrapper"},[e("div",{staticClass:"tel_container"},[e("van-field",{class:1==t.active?"changBottom":"",attrs:{placeholder:"请输入手机号"},on:{focus:function(o){t.active=!0},blur:function(o){t.active=!1}},model:{value:t.loginTel,callback:function(o){t.loginTel=o},expression:"loginTel"}})],1),e("div",{staticClass:"pass_container"},[e("van-field",{class:1==t.nother?"changBottom":"",attrs:{placeholder:"请输入密码",type:"password"},on:{focus:function(o){t.nother=!0},blur:function(o){t.nother=!1}},model:{value:t.loginPass,callback:function(o){t.loginPass=o},expression:"loginPass"}})],1),e("div",{staticClass:"password_container"},[e("span",{on:{click:t.retrieve}},[t._v("找回密码")]),e("span",{on:{click:t.onClick}},[t._v("注册/验证码登录")])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.logonShow,expression:"logonShow"}],staticClass:"logon_input_container"},[e("div",{staticClass:"logon_input_wrapper"},[e("div",{staticClass:"logon_tel_container"},[e("van-field",{class:1==t.active?"changBottom":"",attrs:{placeholder:"请输入手机号"},on:{focus:function(o){t.active=!0},blur:function(o){t.active=!1}},scopedSlots:t._u([{key:"button",fn:function(){return[e("span",{directives:[{name:"show",rawName:"v-show",value:t.getCode,expression:"getCode"}],on:{click:t.getmsg}},[t._v("获取验证码")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.timeOut,expression:"timeOut"}],staticClass:"time_box"},[t._v(" 获取验证码 ("),e("van-count-down",{ref:"countDown",attrs:{time:t.time,format:"ss","auto-start":!1},on:{finish:t.timeend}}),t._v(") ")],1)]},proxy:!0}]),model:{value:t.tel,callback:function(o){t.tel=o},expression:"tel"}})],1),e("div",{staticClass:"logon_pass_container"},[e("van-field",{class:1==t.nother?"changBottom":"",attrs:{placeholder:"请输入短信验证码"},on:{focus:function(o){t.nother=!0},blur:function(o){t.nother=!1}},model:{value:t.msgCode,callback:function(o){t.msgCode=o},expression:"msgCode"}})],1),e("div",{staticClass:"logon_password_container"},[e("span",[t._v("*未注册手机将自动注册")]),e("span",{on:{click:t.againClick}},[t._v("使用密码登录")])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loginShow,expression:"loginShow"}],staticClass:"login_button_container"},[e("div",{staticClass:"login_button_wrapper"},[e("van-button",{attrs:{type:"primary",size:"large",round:"",color:"linear-gradient(to right, #FF9349, #FC5500)"},on:{click:t.Signin}},[t._v("登录")])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.logonShow,expression:"logonShow"}],staticClass:"login_button_container"},[e("div",{staticClass:"login_button_wrapper"},[e("van-button",{attrs:{type:"primary",size:"large",round:"",color:"linear-gradient(to right, #FF9349, #FC5500)"},on:{click:t.logondenglu}},[t._v("注册")])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"mes"},[e("span",[t._v("手机号码格式不正确")])])])},i=[function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"login_pic_container"},[s("div",{staticClass:"login_pic_wrapper"},[s("div",{staticClass:"pic_container"},[s("img",{attrs:{src:e("2757"),alt:""}})])])])}],n=e("c0a4"),a=e("e90d"),l=e("8587"),c=e.n(l),r=e("7047");n["default"].use(a["a"]);var d={data(){return{active:!1,nother:!1,loginShow:!0,logonShow:!1,tel:"",show:!1,loginTel:"",loginPass:"",time:6e4,timeOut:!1,getCode:!0,msgCode:"",showtime:!1}},methods:{onClick(){this.loginShow=!1,this.logonShow=!0},againClick(){this.loginShow=!0,this.logonShow=!1},getmsg(){1==Object(r["b"])(this.tel)?c.a.post("http://120.53.31.103:84/api/app/smsCode",{mobile:this.tel,sms_type:"login"}).then(t=>{console.log(t),200==t.data.code?(this.$refs.countDown.start(),this.getCode=!1,this.timeOut=!0):this.$toast({message:"当前请求频繁,请稍后再试",position:"top"})}):this.$toast({message:Object(r["b"])(this.tel),position:"top"})},retrieve(){this.$router.push("/Retrieve")},Signin(){return console.log(Object(r["a"])(this.loginPass)),1!=Object(r["b"])(this.loginTel)?(this.$toast({message:Object(r["b"])(this.loginTel),position:"top"}),!1):1!=Object(r["a"])(this.loginPass)?(this.$toast({message:Object(r["a"])(this.loginPass),position:"top"}),!1):void c.a.post("http://120.53.31.103:84/api/app/login",{mobile:this.loginTel,password:this.loginPass,type:1}).then(t=>{console.log(t),200==t.data.code&&(localStorage.Token=t.data.data.remember_token,localStorage.deviceid=t.data.data.device_id,this.$router.push("/my"))})},async logondenglu(){let t=await c.a.post(" http://120.53.31.103:84/api/app/login",{mobile:this.tel,sms_code:this.msgCode,client:1,type:2});200==t.data.code?(localStorage.Token=t.data.data.remember_token,localStorage.deviceid=t.data.data.device_id,1==t.data.data.is_new?this.$router.push("/setPass"):this.$router.push("/my")):this.$toast({message:"验证码错误",position:"top"}),console.log(t)},timeend(){this.timeOut=!1,this.getCode=!0,this.$refs.countDown.reset()}}},g=d,u=(e("6ba9"),e("2c07")),h=Object(u["a"])(g,s,i,!1,null,null,null);o["default"]=h.exports}}]);
//# sourceMappingURL=chunk-7e142376.0a94fedf.js.map